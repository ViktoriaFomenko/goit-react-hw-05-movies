{"version":3,"file":"static/js/984.c61fe711.chunk.js","mappings":"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","sources":["APIServise.jsx","components/MovieSearchForm/MovieSearchForm.jsx","Pages/Movie/Movie.jsx","components/MovieList/MovieList.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '81f57ce8a5863d84fdab7c29ba0c37c2';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function FetchTrending() {\n  const URL = `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US&include_adult=false`;\n  const { data } = await axios.get(URL);\n  return data;\n}\n\nexport async function FetchMovieInfo(id) {\n  const URL = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US&include_adult=false`;\n  const { data } = await axios.get(URL);\n  return data;\n}\n\nexport async function SearchMovie(query) {\n  const URL = `${BASE_URL}/search/movie?api_key=${KEY}&query=${query}&language=en-US&include_adult=false`;\n\n  const { data } = await axios.get(URL);\n  return data;\n}\n\nexport async function MovieCast(id) {\n  const URL = `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US&include_adult=false`;\n\n  const { data } = await axios.get(URL);\n  return data;\n}\n\nexport async function MovieReviews(id) {\n  const URL = `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US&include_adult=false`;\n\n  const { data } = await axios.get(URL);\n  return data;\n}\n","import { useState } from 'react';\n\nexport const MovieSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    query: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit({ ...state });\n    setState({\n      query: '',\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"query\"\n        value={state.query}\n        onChange={handleChange}\n        placeholder=\"Search movie\"\n        required\n      />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { MovieSearchForm } from 'components/MovieSearchForm/MovieSearchForm';\nimport { SearchMovie } from 'APIServise';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movie = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    const FetchMovies = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n        }));\n\n        const data = await SearchMovie(query);\n        setState(prevState => ({\n          ...prevState,\n          items: data.results,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      } finally {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n        }));\n      }\n    };\n\n    if (query) {\n      FetchMovies();\n    }\n  }, [query]);\n\n  const changeSearch = ({ query }) => {\n    setSearchParams({ query });\n  };\n\n  const { items, loading, error } = state;\n\n  return (\n    <div>\n      <MovieSearchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MovieList items={items} />}\n      {loading && <Loader />}\n      {error && <p>...Movies load failed</p>}\n    </div>\n  );\n};\n\nexport default Movie;\n","import { Link, useLocation } from 'react-router-dom';\n\nexport const MovieList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, title }) => (\n    <li key={id}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return <ul>{elements}</ul>;\n};\n\nMovieList.defaultProps = {\n  items: [],\n};\n"],"names":["KEY","BASE_URL","FetchTrending","URL","axios","data","FetchMovieInfo","id","SearchMovie","query","MovieCast","MovieSearchForm","onSubmit","useState","state","setState","event","preventDefault","name","value","onChange","target","placeholder","required","type","items","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","FetchMovies","prevState","results","length","MovieList","Loader","location","useLocation","elements","map","title","from","to","defaultProps"],"sourceRoot":""}